# VKERNEL - configuration for a virtual kernel
#
# $DragonFly: src/sys/config/VKERNEL,v 1.13 2008/07/08 01:39:27 dillon Exp $

platform	vkernel		# platform architecture (i386, vkernel, etc)
machine		i386
machine_arch	i386		# cpu architecture (i386, etc)
ident		VKERNEL
maxusers	0

makeoptions	DEBUG=-g

cpu		I586_CPU
cpu		I686_CPU

options		DEBUG_PCTRACK

options		KTR
options		KTR_GIANT_CONTENTION
options		KTR_SPIN_CONTENTION
#options	DEBUG_CRIT_SECTIONS

options		QUOTA
options		DUMMYNET
options         IPFIREWALL              #firewall
options		IPFIREWALL_FORWARD      #enable transparent proxy support
options		IPFIREWALL_DEFAULT_TO_ACCEPT    #allow everything by default

options		IPSEC			#IP security
options		IPSEC_ESP		#IP security (crypto; define w/ IPSEC)
options		IPSEC_DEBUG		#debug for IP security

options		EXT2FS
options 	INET			#InterNETworking
options 	INET6			#IPv6 communications protocols
options 	HAMMER			#Hammer Filesystem
options 	FFS			#Berkeley Fast Filesystem
options 	FFS_ROOT		#FFS usable as root device [keep this!]
options 	SOFTUPDATES		#Enable FFS soft updates support
options 	UFS_DIRHASH		#Improve performance on big directories
options 	MFS			#Memory Filesystem
options 	MD_ROOT			#MD is a potential root device
options 	NFS			#Network Filesystem
options 	NFS_ROOT		#NFS usable as root device, NFS required
options 	MSDOSFS			#MSDOS Filesystem
options 	CD9660			#ISO 9660 Filesystem
options 	PROCFS			#Process filesystem
options 	COMPAT_43		#Compatible with BSD 4.3 [KEEP THIS!]
options		COMPAT_DF12		#Compatible with DragonFly 1.2 and earlier
options		DEVICE_POLLING		# Support mixed interrupt-polling
					# handling of network device drivers
options 	UCONSOLE		#Allow users to grab the console
options 	KTRACE			#ktrace(1) support
options 	SYSVSHM			#SYSV-style shared memory
options 	SYSVMSG			#SYSV-style message queues
options 	SYSVSEM			#SYSV-style semaphores
options 	P1003_1B		#Posix P1003_1B real-time extensions
options 	_KPOSIX_PRIORITY_SCHEDULING
options 	ICMP_BANDLIM		#Rate limit bad replies

options 	SMP			# Symmetric MultiProcessor Kernel

# Debugging for Development
options 	DDB
options 	DDB_TRACE
options 	INVARIANTS

# Floating point support - do not disable.
device		npx0	at nexus?

# Pseudo devices - the number indicates how many units to allocate.
pseudo-device	loop		# Network loopback
pseudo-device	ether		# Ethernet support
pseudo-device	sl	1	# Kernel SLIP
pseudo-device	ppp	1	# Kernel PPP
pseudo-device	tun		# Packet tunnel.
pseudo-device	pty		# Pseudo-ttys (telnet etc)
pseudo-device	md		# Memory "disks"
pseudo-device	gif		# IPv6 and IPv4 tunneling
pseudo-device	faith	1	# IPv6-to-IPv4 relaying (translation)

# The `bpf' pseudo-device enables the Berkeley Packet Filter.
# Be aware of the administrative consequences of enabling this!
pseudo-device	bpf		#Berkeley packet filter

# VIRTUAL DEVICES
#
device		vn
device		vkd
device		vke
device		vcd
